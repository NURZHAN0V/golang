# 2.3 –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ `slog` (Go 1.21+)

> –ù–æ–≤—ã–π –ø–∞–∫–µ—Ç `log/slog` –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ, —É—Ä–æ–≤–Ω–µ–≤–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ ¬´–∏–∑ –∫–æ—Ä–æ–±–∫–∏¬ª.

## 1. –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
```go
import "log/slog"

func main() {
    slog.Info("starting", "version", "1.0.0")
    slog.Warn("cache miss", "key", "user:42")
}
```
–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—ã–≤–æ–¥–∏—Ç—Å—è –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º —Ñ–æ—Ä–º–∞—Ç–µ:
```
time="2025-09-29T12:00:00Z" level=INFO msg=starting version=1.0.0
```

## 2. JSON-handler
```go
h := slog.NewJSONHandler(os.Stdout, nil)
logger := slog.New(h)
logger.Info("ready", "port", 8080)
```

## 3. –£—Ä–æ–≤–Ω–∏ –ª–æ–≥–æ–≤
* `DEBUG`  
* `INFO`   
* `WARN`   
* `ERROR`

–§–∏–ª—å—Ç—Ä —É—Ä–æ–≤–Ω–µ–π:
```go
h := slog.NewJSONHandler(os.Stdout, &slog.HandlerOptions{Level: slog.LevelWarn})
```

## 4. –ö–æ–Ω—Ç–µ–∫—Å—Ç –∏ –≥—Ä—É–ø–ø—É –ø–æ–ª–µ–π
```go
reqLogger := slog.With("req_id", "abc123")
reqLogger.Info("processing")

slog.Info("db", slog.Group("sql", "query", "SELECT 1", "rows", 1))
```

## 5. –ü–µ—Ä–µ—Ö–æ–¥ —Å `log` –Ω–∞ `slog`
```go
log.SetOutput(slog.NewJSONHandler(os.Stdout, nil)) // —Å Go 1.23 (–ø—Ä–∏–º–µ—Ä –±—É–¥—É—â–µ–≥–æ)
```
–ò–ª–∏ –æ–±–µ—Ä–Ω–∏—Ç–µ —Å—Ç–∞—Ä—ã–µ –≤—ã–∑–æ–≤—ã `log.Print` –≤ `slog.Info`.

## 6. –†–æ—Ç–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤
`slog` —Å–∞–º –Ω–µ –∫—Ä—É—Ç–∏—Ç —Ñ–∞–π–ª—ã. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `github.com/natefinch/lumberjack`:
```go
rot := &lumberjack.Logger{Filename: "app.log", MaxSize: 10}
logger := slog.New(slog.NewTextHandler(rot, nil))
```

## –£–ø—Ä–∞–∂–Ω–µ–Ω–∏—è üìù
1. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ JSON-–ª–æ–≥–µ—Ä —Å —É—Ä–æ–≤–Ω–µ–º INFO. –í—ã–≤–µ–¥–∏—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `{id, name}` –≤ –ø–æ–ª–µ `user`.  
2. –ü–æ–¥–º–µ–Ω–∏—Ç–µ stdout –Ω–∞ —Ñ–∞–π–ª —á–µ—Ä–µ–∑ lumberjack; –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ä–∞–∑–º–µ—Ä >10 –ú–ë –≤—ã–∑—ã–≤–∞–µ—Ç —Ä–æ—Ç–∞—Ü–∏—é.
