# 2.5 –§–∞–π–ª—ã –∏ –≤–≤–æ–¥-–≤—ã–≤–æ–¥

> Go –¥–∞—ë—Ç —É–¥–æ–±–Ω—ã–π –ø–∞–∫–µ—Ç `os` + –±—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—é `bufio` + –∫–æ–¥–µ–∫–∏ JSON/XML/CSV –∏–∑ –∫–æ—Ä–æ–±–∫–∏.

## 1. –ß—Ç–µ–Ω–∏–µ —Ü–µ–ª–æ–≥–æ —Ñ–∞–π–ª–∞
```go
data, err := os.ReadFile("notes.txt")
if err != nil { log.Fatal(err) }
fmt.Println(string(data))
```
`ReadFile` –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –Ω–µ–±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤ (–¥–æ –¥–µ—Å—è—Ç–∫–æ–≤ –ú–ë).

## 2. –ü–æ–±–ª–æ—á–Ω–æ–µ —á—Ç–µ–Ω–∏–µ Scanner
```go
f, _ := os.Open("big.txt")
defer f.Close()
scanner := bufio.NewScanner(f)
for scanner.Scan() {
    line := scanner.Text()
    // –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º
}
if err := scanner.Err(); err != nil {
    log.Fatal(err)
}
```
### –ò–∑–º–µ–Ω–∏—Ç—å —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å
```go
scanner.Split(bufio.ScanWords) // –ø–æ —Å–ª–æ–≤–∞–º, –Ω–µ –ø–æ —Å—Ç—Ä–æ–∫–∞–º
```

## 3. –ó–∞–ø–∏—Å—å —Ñ–∞–π–ª–∞
```go
err := os.WriteFile("out.txt", []byte("hello"), 0o644)
```
–î–ª—è –ø–æ—Ç–æ–∫–æ–≤–æ–π –∑–∞–ø–∏—Å–∏:
```go
w := bufio.NewWriter(f)
w.WriteString("line\n")
w.Flush()
```

## 4. –†–∞–±–æ—Ç–∞ —Å JSON
```go
type User struct{ID int `json:"id"`; Name string `json:"name"`}
var u User
if err := json.Unmarshal(data, &u); err != nil { ... }

out, _ := json.MarshalIndent(u, "", "  ")
```
### Decoder/Encoder
```go
dec := json.NewDecoder(f)
dec.DisallowUnknownFields()
if err := dec.Decode(&u); err != nil { ... }
```

## 5. CSV
```go
r := csv.NewReader(f)
records, _ := r.ReadAll()
```
### –ó–∞–ø–∏—Å—å
```go
w := csv.NewWriter(f)
w.Write([]string{"id","name"})
w.Flush()
```

## 6. YAML (–≤–Ω–µ—à–Ω—è—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞)
```go
go get gopkg.in/yaml.v3
var cfg Config
yaml.Unmarshal(data, &cfg)
```

## 7. `io` —É—Ç–∏–ª–∏—Ç—ã
| –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `io.Copy(dst, src)` | —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Ç–æ–∫ |
| `io.NopCloser(r)`   | –¥–æ–±–∞–≤–∏—Ç—å `Close()` –∫ —á–∏—Ç–∞—Ç–µ–ª—é |
| `io.ReadAll(r)`     | —Å—á–∏—Ç–∞—Ç—å –≤—Å—ë |

## –£–ø—Ä–∞–∂–Ω–µ–Ω–∏—è üìù
1. –ù–∞–ø–∏—à–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É, —á–∏—Ç–∞—é—â—É—é `numbers.txt` –ø–æ—Å—Ç—Ä–æ—á–Ω–æ –∏ —Å—á–∏—Ç–∞—é—â—É—é —Å—É–º–º—É —á–∏—Å–µ–ª.  
2. –°–∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–π—Ç–µ CSV-—Ñ–∞–π–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ JSON-–º–∞—Å—Å–∏–≤.  
3. –ò—Å–ø–æ–ª—å–∑—É—è `io.Copy`, —Å–¥–µ–ª–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `Download(url, path string)` ‚Äì —Å–∫–∞—á–∏–≤–∞–µ—Ç —Ñ–∞–π–ª —á–µ—Ä–µ–∑ `http.Get`.
