# Циклы: `for`, `range`

В программировании часто нужно **повторять действия несколько раз**. В Go для этого есть один основной цикл — **`for`**, но он очень гибкий и позволяет решать почти все задачи, где в других языках используют `while`, `do-while` или `foreach`.

---

### Простейший `for`

Самый простой цикл выполняется заданное число раз:

```go
for i := 0; i < 5; i++ {
    fmt.Println("Итерация", i)
}
```

* `i := 0` — инициализация счётчика
* `i < 5` — условие выполнения
* `i++` — шаг (увеличение счётчика)

Результат:

```
Итерация 0
Итерация 1
Итерация 2
Итерация 3
Итерация 4
```

---

### Цикл `for` как `while`

В Go нет отдельного `while`. Можно использовать `for` с условием:

```go
i := 0
for i < 5 {
    fmt.Println(i)
    i++
}
```

* Работает так же, как `while i < 5` в других языках.

---

### Бесконечный цикл

Если убрать условие, получится бесконечный цикл:

```go
for {
    fmt.Println("Цикл работает бесконечно")
    break // остановка цикла вручную
}
```

* Чтобы выйти, обычно используют `break`.
* Также можно использовать `continue`, чтобы пропустить текущую итерацию.

---

### Цикл `for` с `range`

`range` позволяет **перебирать массивы, срезы, строки и карты (map)**.

#### Перебор массива или среза

```go
nums := []int{2, 4, 6, 8}

for i, val := range nums {
    fmt.Println("Индекс:", i, "Значение:", val)
}
```

* `i` — индекс элемента
* `val` — значение элемента
* Можно опустить индекс:

```go
for _, val := range nums {
    fmt.Println(val)
}
```

#### Перебор строки

```go
word := "Go"
for i, ch := range word {
    fmt.Printf("Индекс %d: символ %c\n", i, ch)
}
```

* Go автоматически работает с Unicode символами (rune).

#### Перебор map

```go
colors := map[string]string{"red": "#FF0000", "green": "#00FF00"}

for key, value := range colors {
    fmt.Println(key, "=>", value)
}
```

* `key` — ключ карты
* `value` — значение

---

### Особенности Go

1. **Один цикл на все случаи**

   * `for` в Go заменяет `for`, `while` и `do-while` из других языков.

2. **`range` безопасен для массивов и карт**

   * Не нужно следить за длиной или индексами вручную.

3. **`break` и `continue`**

   * `break` — прерывает цикл
   * `continue` — пропускает текущую итерацию

4. **Область видимости переменных цикла**

   * Переменные `i`, `val` существуют только внутри блока `for`.

---

### Пример полной программы с циклами

```go
package main

import "fmt"

func main() {
    // Простой for
    for i := 0; i < 3; i++ {
        fmt.Println("Простой цикл", i)
    }

    // For как while
    j := 0
    for j < 3 {
        fmt.Println("Цикл как while", j)
        j++
    }

    // Перебор массива с range
    nums := []int{10, 20, 30}
    for idx, val := range nums {
        fmt.Println("Индекс:", idx, "Значение:", val)
    }

    // Перебор map
    colors := map[string]string{"red": "#FF0000", "green": "#00FF00"}
    for k, v := range colors {
        fmt.Println(k, "=>", v)
    }
}
```

---

### Итого

* В Go **только один цикл `for`**, но он универсален.
* **`for` с условием** заменяет `while`.
* **`for` без условий** создаёт бесконечный цикл.
* **`range`** позволяет безопасно перебирать массивы, срезы, строки и карты.
* `break` и `continue` управляют потоком цикла.