# 2.4 –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑: `go vet`, `staticcheck`, `govulncheck`

> –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –∏—â–µ—Ç –æ—à–∏–±–∫–∏ –±–µ–∑ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã. –≠—Ç–æ –±—ã—Å—Ç—Ä—ã–π —Å–ø–æ—Å–æ–± –ø–æ–π–º–∞—Ç—å –±–∞–≥–∏ –µ—â—ë –¥–æ —Ä–µ–≤—å—é.

## 1. `go vet` ‚Äì –±–∞–∑–æ–≤—ã–π –ø—Ä–æ–≤–µ—Ä—è–ª—å—â–∏–∫
```bash
go vet ./...
```
–ò—â–µ—Ç –æ—á–µ–≤–∏–¥–Ω—ã–µ –æ—à–∏–±–∫–∏: –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç `Printf`, –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ `sync.Mutex`, –æ—à–∏–±–∫—É –≤ —Ç–µ–≥–µ `struct`.

### –ü–æ–ª–µ–∑–Ω—ã–µ —Ñ–ª–∞–≥–∏
```bash
go vet -copylocks ./...   # –∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ–º—ã–π –º—å—é—Ç–µ–∫—Å –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è
```

## 2. `staticcheck` ‚Äì ¬´go vet –Ω–∞ —Å—Ç–µ—Ä–æ–∏–¥–∞—Ö¬ª
–£—Å—Ç–∞–Ω–æ–≤–∫–∞:
```bash
go install honnef.co/go/tools/cmd/staticcheck@latest
```
–ó–∞–ø—É—Å–∫:
```bash
staticcheck ./...
```
–ö–∞—Ç–µ–≥–æ—Ä–∏–∏:
* `SA` ‚Äî –≤–æ–∑–º–æ–∂–Ω—ã–µ –±–∞–≥–∏.  
* `ST` ‚Äî —Å—Ç–∏–ª–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ.  
* `S`  ‚Äî –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å.

–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:
```
SA4006 unread variable result
```

## 3. –£—è–∑–≤–∏–º–æ—Å—Ç–∏: `govulncheck`
```bash
go install golang.org/x/vuln/cmd/govulncheck@latest
govulncheck ./...
```
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–∞ –∏–∑–≤–µ—Å—Ç–Ω—ã–µ CVE –∏–∑ –±–∞–∑—ã osv.dev.

## 4. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ CI
`.github/workflows/ci.yml`:
```yaml
- name: vet & staticcheck
  run: |
    go vet ./...
    staticcheck ./...
```

## 5. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ VS Code
–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ **Go** —É–º–µ–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å `go vet` on-save. –í `settings.json`:
```json
"go.toolsManagement.autoUpdate": true,
"go.lintTool": "staticcheck",
"go.lintOnSave": "package",
```

## –£–ø—Ä–∞–∂–Ω–µ–Ω–∏—è üìù
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `staticcheck` –Ω–∞ —Å–≤–æ—ë–º –ø—Ä–æ–µ–∫—Ç–µ `converter`. –ü–æ–ø—Ä–∞–≤—å—Ç–µ –º–∏–Ω–∏–º—É–º –¥–≤–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã.  
2. –í—Å—Ç–∞–≤—å—Ç–µ –Ω–µ–æ–ø–æ–ª—å–∑—É–µ–º—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `go vet` –ª–æ–≤–∏—Ç –µ—ë.  
3. –î–æ–±–∞–≤—å—Ç–µ –∑–∞–ø—É—Å–∫ `govulncheck` –≤ GitHub Actions.
