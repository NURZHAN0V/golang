# 2.9 –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –º–æ–¥—É–ª–∏ –∏ workspaces

> –í –≥–ª–∞–≤–µ 1.2 –º—ã –æ—Å–≤–æ–∏–ª–∏ –æ—Å–Ω–æ–≤—ã `go mod`. –ó–¥–µ—Å—å —Ä–∞–∑–±–µ—Ä—ë–º –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏: –º–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏, `replace`, private proxy –∏ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ v2+.

## 1. –ú–æ–Ω–æ—Ä–µ–ø–æ –∏ `go work`
```
repo/
 ‚îú‚îÄ api/go.mod
 ‚îú‚îÄ service/go.mod
 ‚îî‚îÄ go.work
```
–°–æ–∑–¥–∞–Ω–∏–µ:
```bash
cd repo
go work init ./api ./service
```
–¢–µ–ø–µ—Ä—å `service` –º–æ–∂–µ—Ç –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å `api` –±–µ–∑ `replace`.

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –º–æ–¥—É–ª—è
```bash
go work use ./cli
```

## 2. `replace` –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
–í `go.mod`:
```
replace example.com/lib => ../lib
```
–ü–æ–ª–µ–∑–Ω–æ, –∫–æ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç–µ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π –ø–∞–ø–∫–µ.

## 3. –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ v2+
–ù–∞—á–∏–Ω–∞—è —Å v2 –º–æ–¥—É–ª—å–Ω—ã–π –ø—É—Ç—å –≤–∫–ª—é—á–∞–µ—Ç —Å—É—Ñ—Ñ–∏–∫—Å `/v2`:
```bash
go mod init github.com/me/pkg/v2
```
–¢–µ–≥ –≤ git: `v2.0.0`.

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```bash
go get github.com/me/pkg/v2@latest
```

## 4. Private modules –∏ GOPRIVATE
```bash
export GOPRIVATE="github.com/mycompany/*"
```
Go –Ω–µ –±—É–¥–µ—Ç –ø—ã—Ç–∞—Ç—å—Å—è –ø—Ä–æ—Ö–æ–¥–∏—Ç—å —á–µ—Ä–µ–∑ proxy.golang.org.

### –¢–æ–∫–µ–Ω—ã GitHub
```bash
git config --global url."https://<TOKEN>:x-oauth-basic@github.com/".insteadOf "https://github.com/"
```

## 5. Proxy –∏ SumDB
- `GOPROXY` ‚Äî —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–∫—Å–∏, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `https://proxy.golang.org,direct`.  
- `GOSUMDB` ‚Äî –±–∞–∑–∞ —Å—É–º–º; –¥–ª—è –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö –º–æ–¥—É–ª–µ–π –º–æ–∂–Ω–æ `env GONOSUMDB=github.com/mycompany/*`.

## 6. tidy, vendor, verify
| –ö–æ–º–∞–Ω–¥–∞ | –ß—Ç–æ –¥–µ–ª–∞–µ—Ç |
|---------|------------|
| `go mod tidy` | –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ / —É–¥–∞–ª—è–µ—Ç –ª–∏—à–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ |
| `go mod vendor` | —Å–∫–ª–∞–¥—ã–≤–∞–µ—Ç –≤—Å—ë –≤ –ø–∞–ø–∫—É `vendor` |
| `go mod verify` | —Å–≤–µ—Ä—è–µ—Ç —Ö—ç—à–∏ `go.sum` |

## –£–ø—Ä–∞–∂–Ω–µ–Ω–∏—è üìù
1. –°–æ–∑–¥–∞–π—Ç–µ –º–æ–Ω–æ—Ä–µ–ø–æ —Å –º–æ–¥—É–ª—è–º–∏ `lib` –∏ `app`; —Å–≤—è–∂–∏—Ç–µ –∏—Ö —á–µ—Ä–µ–∑ `go work`.  
2. –û–ø—É–±–ª–∏–∫—É–π—Ç–µ `lib` v1.0.0, –∑–∞—Ç–µ–º –≤–Ω–µ—Å–∏—Ç–µ breaking change –∏ –≤—ã–ø—É—Å—Ç–∏—Ç–µ v2.0.0 —Å –Ω–æ–≤—ã–º –º–æ–¥—É–ª—å–Ω—ã–º –ø—É—Ç—ë–º.  
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ `GOPRIVATE` –∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `go get` —Ç—è–Ω–µ—Ç –ø–∞–∫–µ—Ç –Ω–∞–ø—Ä—è–º—É—é –±–µ–∑ –ø—Ä–æ–∫—Å–∏.
