# Паттерны проектирования

Паттерны проектирования — это **проверенные способы решения типичных задач при разработке программного обеспечения**.

В Go, благодаря простоте языка и системе интерфейсов, многие паттерны реализуются **естественно и лаконично**.

---

### Основные категории паттернов

1. **Порождающие (Creational)**

   * Отвечают за **создание объектов**.
   * Примеры:

     * **Singleton** — один экземпляр объекта на весь проект.
     * **Factory** — создание объектов через функцию/фабрику.
     * **Builder** — пошаговая сборка сложного объекта.

2. **Структурные (Structural)**

   * Организация объектов в **структуры и композиции**.
   * Примеры:

     * **Adapter** — адаптирует интерфейс одного типа к другому.
     * **Decorator** — динамически расширяет функциональность объекта.
     * **Facade** — упрощает работу со сложной подсистемой.

3. **Поведенческие (Behavioral)**

   * Определяют **взаимодействие объектов**.
   * Примеры:

     * **Observer** — оповещение подписчиков при изменении состояния.
     * **Strategy** — выбор алгоритма во время выполнения.
     * **Command** — инкапсуляция запроса как объекта.

---

### Примеры в Go

#### Factory

```go
type Animal interface {
    Speak() string
}

type Dog struct{}
func (d Dog) Speak() string { return "Woof!" }

type Cat struct{}
func (c Cat) Speak() string { return "Meow!" }

func AnimalFactory(kind string) Animal {
    switch kind {
    case "dog":
        return Dog{}
    case "cat":
        return Cat{}
    default:
        return nil
    }
}
```

---

#### Singleton

```go
type Config struct {
    AppName string
}

var instance *Config

func GetConfig() *Config {
    if instance == nil {
        instance = &Config{AppName: "MyApp"}
    }
    return instance
}
```

---

#### Strategy

```go
type PaymentStrategy interface {
    Pay(amount float64)
}

type PayPal struct{}
func (p PayPal) Pay(amount float64) { fmt.Println("Paying with PayPal:", amount) }

type CreditCard struct{}
func (c CreditCard) Pay(amount float64) { fmt.Println("Paying with CreditCard:", amount) }

func ProcessPayment(strategy PaymentStrategy, amount float64) {
    strategy.Pay(amount)
}
```

---

### Итог

* Паттерны проектирования помогают **делать код чистым, гибким и расширяемым**.
* Go облегчает их реализацию благодаря **интерфейсам, композиции и простому синтаксису**.
* Важно понимать **когда и какой паттерн использовать**, чтобы не усложнять проект.