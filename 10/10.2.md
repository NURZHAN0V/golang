# Переменные окружения

Переменные окружения — это **способ передавать конфигурацию программе извне**, без изменения кода. Они часто используются для хранения секретов, путей к файлам, настроек базы данных и других параметров.

В Go работа с ними осуществляется через пакет **`os`**.

---

### Чтение переменных окружения

```go
package main

import (
    "fmt"
    "os"
)

func main() {
    user := os.Getenv("USER")
    home := os.Getenv("HOME")
    secret := os.Getenv("MY_SECRET") // если переменная не установлена, вернётся пустая строка

    fmt.Println("Пользователь:", user)
    fmt.Println("Домашняя директория:", home)
    fmt.Println("Секрет:", secret)
}
```

* `os.Getenv("VAR_NAME")` возвращает значение переменной окружения или пустую строку, если она не установлена.
* Использование переменных окружения позволяет **не хранить конфиденциальные данные в коде**.

---

### Проверка существования переменной

```go
value, exists := os.LookupEnv("MY_VAR")
if exists {
    fmt.Println("MY_VAR:", value)
} else {
    fmt.Println("MY_VAR не задана")
}
```

* `os.LookupEnv` возвращает **значение и флаг существования** переменной.
* Это полезно, если нужно различать «не установлена» и «пустое значение».

---

### Установка переменных окружения

В терминале можно установить переменные перед запуском программы:

```bash
export MY_SECRET=12345
go run main.go
```

Или временно для одного запуска:

```bash
MY_SECRET=12345 go run main.go
```

* На Windows используется `set` или `setx`:

```cmd
set MY_SECRET=12345
go run main.go
```

---

### Изменение и удаление переменных в коде

```go
os.Setenv("MY_VAR", "value")   // создать или изменить
os.Unsetenv("MY_VAR")          // удалить
```

* Менять переменные окружения полезно для **тестов или динамической конфигурации**.
* Изменения действуют только для текущего процесса и его потомков.

---

### Итого

* Переменные окружения позволяют **отделить конфигурацию от кода**.
* Go предоставляет **удобные функции**: `os.Getenv`, `os.LookupEnv`, `os.Setenv`, `os.Unsetenv`.
* Хорошая практика: хранить **секреты, пути, настройки подключения** через переменные окружения, чтобы программа была гибкой и безопасной.