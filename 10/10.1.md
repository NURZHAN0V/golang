# Аргументы командной строки

Программы на Go часто запускаются из терминала или скриптов, и иногда необходимо **передавать им параметры при старте**. Это удобно для настройки поведения программы без изменения кода.

В Go для работы с аргументами командной строки используется пакет **`os`** и пакет **`flag`** для более удобного парсинга.

---

### Доступ к аргументам через `os.Args`

```go
package main

import (
    "fmt"
    "os"
)

func main() {
    fmt.Println("Все аргументы командной строки:", os.Args)

    if len(os.Args) > 1 {
        fmt.Println("Первый аргумент:", os.Args[1])
    }
}
```

* `os.Args` — это **срез строк**, где:

  * `os.Args[0]` — имя самой программы,
  * `os.Args[1:]` — переданные аргументы.
* Если запустить:

```bash
go run main.go hello world
```

Вывод будет:

```
Все аргументы командной строки: [main.go hello world]
Первый аргумент: hello
```

---

### Флаги с пакетом `flag`

Пакет `flag` позволяет **удобно задавать параметры с именами** и автоматическую валидацию типов:

```go
package main

import (
    "flag"
    "fmt"
)

func main() {
    name := flag.String("name", "Гость", "Имя пользователя")
    age := flag.Int("age", 0, "Возраст пользователя")
    debug := flag.Bool("debug", false, "Включить отладку")

    flag.Parse()

    fmt.Printf("Имя: %s\n", *name)
    fmt.Printf("Возраст: %d\n", *age)
    fmt.Printf("Режим отладки: %v\n", *debug)
    fmt.Println("Остальные аргументы:", flag.Args())
}
```

* `flag.String`, `flag.Int`, `flag.Bool` — создают флаги с указанием имени, значения по умолчанию и описания.
* `flag.Parse()` анализирует аргументы командной строки.
* Флаги читаются через **указатели** (`*name`, `*age`).
* Остальные аргументы, которые не были распознаны как флаги, можно получить через `flag.Args()`.

Запуск:

```bash
go run main.go -name=Олег -age=30 -debug extra1 extra2
```

Вывод:

```
Имя: Олег
Возраст: 30
Режим отладки: true
Остальные аргументы: [extra1 extra2]
```

---

### Итого

* Go предоставляет два способа работы с аргументами: **сырые через `os.Args`** и **структурированные через `flag`**.
* `flag` полезен для создания CLI-программ с удобными флагами и документацией.
* Можно комбинировать оба подхода: `flag` для именованных параметров и `os.Args` для неформатированных аргументов.