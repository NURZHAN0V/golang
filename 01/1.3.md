# Go toolchain: `go run`, `go build`, `go test`

После установки Go важно понять, как использовать встроенные инструменты компиляции и запуска программ. Это называется **Go toolchain** — набор команд, которые позволяют писать, тестировать и запускать код быстро и удобно.

---

### Основные команды

Go поставляется с набором встроенных инструментов, которые делают разработку простой и предсказуемой:

1. **`go run`**
   Используется для запуска программы без предварительной компиляции в отдельный бинарный файл.

   ```bash
   go run main.go
   ```

   Всё, что находится в файле (или нескольких файлах, переданных через пробел), компилируется временно и запускается сразу.
   Отлично подходит для **малых скриптов и проверки идей**.

2. **`go build`**
   Компилирует программу в бинарный файл.

   ```bash
   go build
   ./hello-go
   ```

   Преимущества:

   * Быстрое выполнение программы без необходимости компиляции каждый раз.
   * Можно распространять бинарные файлы без Go на целевой системе.
   * Позволяет компилировать сразу несколько файлов и пакетов.

3. **`go test`**
   Запускает тесты, написанные в файлах с окончанием `_test.go`.

   ```bash
   go test
   ```

   Возможности:

   * Табличные тесты (`table-driven tests`).
   * Бенчмарки (`go test -bench .`).
   * Проверка конкурентности и обнаружение гонок (`go test -race`).
   * Автоматическая генерация отчётов о покрытии (`go test -cover`).

---

### Дополнительные команды

* **`go fmt`** — автоматическое форматирование кода по стандартам Go.

  ```bash
  go fmt ./...
  ```

  Используется для единообразия кода во всех проектах.

* **`go vet`** — статический анализ кода, выявляет потенциальные ошибки и подозрительные конструкции.

  ```bash
  go vet ./...
  ```

* **`go mod`** — управление зависимостями через Go Modules (разделим подробнее ниже).

* **`go install`** — компилирует и устанавливает бинарь в `$GOPATH/bin` или `$GOBIN`.

---

### Как это работает

Все команды Go работают через один **инструмент командной строки** — `go`.

* Он автоматически скачивает зависимости, компилирует исходники и проверяет ошибки.
* Команды интегрированы между собой: например, `go run` фактически использует `go build` под капотом, но без создания отдельного файла.
* `go test` тоже использует компиляцию исходников, чтобы запускать тестовые функции параллельно и безопасно.

---

### Пример workflow

1. Пишем код в `main.go` и тесты в `main_test.go`.
2. Проверяем синтаксис и стиль:

   ```bash
   go fmt ./...
   go vet ./...
   ```
3. Запускаем тесты:

   ```bash
   go test -v
   ```
4. Запускаем программу:

   ```bash
   go run main.go
   ```
5. Компилируем готовый бинарь:

   ```bash
   go build
   ./hello-go
   ```

---

### Итого

Go toolchain делает разработку:

* **Простой** — минимальные команды для запуска и компиляции.
* **Надёжной** — встроенные тесты и статический анализ.
* **Быстрой** — мгновенная компиляция и запуск скриптов.

После освоения этих команд можно переходить к **Go Modules**, чтобы управлять зависимостями и создавать полноценные проекты.