# Встраивание (embedding) вместо наследования

В Go **наследование, как в классических ООП-языках, отсутствует**. Вместо него используется **встраивание (`embedding`)**, которое позволяет **передавать поведение и поля одной структуры другой**.

---

### Что такое встраивание

* Встраивание — это когда одна структура **включает другую структуру как поле без имени**:

```go
type Address struct {
    City, Street string
}

type Person struct {
    Name string
    Age  int
    Address   // встроенная структура
}
```

* Теперь `Person` автоматически «получает» поля `Address`:

```go
p := Person{
    Name: "Олег",
    Age:  30,
    Address: Address{
        City:   "Москва",
        Street: "Ленина",
    },
}

fmt.Println(p.City)   // Москва
fmt.Println(p.Street) // Ленина
```

* Доступ к полям встроенной структуры можно осуществлять **как к собственным полям**.

---

### Методы встроенных структур

* Если встроенная структура имеет методы, они **доступны напрямую через родительскую структуру**:

```go
type Address struct {
    City string
}

func (a Address) FullAddress() string {
    return a.City
}

type Person struct {
    Name    string
    Address
}

p := Person{"Анна", Address{"Санкт-Петербург"}}
fmt.Println(p.FullAddress()) // Санкт-Петербург
```

* Таким образом **встраивание позволяет «заимствовать» поведение** без явного наследования.

---

### Встраивание и интерфейсы

* Встроенная структура помогает **реализовать интерфейсы автоматически**:

```go
type Greeter interface {
    Greet() string
}

type Base struct{}

func (b Base) Greet() string {
    return "Привет!"
}

type Person struct {
    Name string
    Base  // встраивание
}

p := Person{"Олег"}
fmt.Println(p.Greet()) // Привет!
```

* `Person` автоматически «унаследовал» метод `Greet` через `Base`.

---

### Отличие от классического наследования

1. В Go **нет иерархий классов**, нет ключевых слов `extends` или `super`.
2. Встраивание — это **композиция**, а не наследование: структура содержит другую структуру как поле.
3. Методы и поля встроенной структуры **прямо доступны**, но можно всегда использовать **явное имя**, чтобы избежать конфликтов:

```go
p.Base.Greet() // явный вызов метода встроенной структуры
```

---

### Итого

* Встраивание позволяет **расширять структуры без наследования**.
* Поля и методы встроенной структуры **доступны напрямую** через родителя.
* Используется для **полиморфизма, композиции и реализации интерфейсов**.
* Это делает код **простым, безопасным и гибким**, сохраняя дух Go — меньше магии, больше явности.