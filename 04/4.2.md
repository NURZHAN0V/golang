# Методы структур

В Go **методы** позволяют связать **функцию с конкретным типом**, чаще всего — со структурой. Это ключевой способ добавить **поведение объекту** и работать с его данными удобно и безопасно.

---

### Что такое метод

Метод выглядит как обычная функция, но с **приёмником** (`receiver`), указывающим, для какого типа он работает:

```go
type Person struct {
    Name string
    Age  int
}

// метод с приёмником по значению
func (p Person) Greet() {
    fmt.Println("Привет, меня зовут", p.Name)
}
```

* `(p Person)` — это **приёмник**, как будто «ссылка на экземпляр структуры».
* Вызываем метод так:

```go
p := Person{"Олег", 30}
p.Greet() // Привет, меня зовут Олег
```

---

### Методы с приёмником-указателем

* Если метод должен **изменять поля структуры**, нужно использовать **указатель на структуру**:

```go
func (p *Person) Birthday() {
    p.Age++
}

p := Person{"Олег", 30}
p.Birthday()
fmt.Println(p.Age) // 31
```

* Использование указателя позволяет **не копировать структуру** и работать с оригиналом.

---

### Встроенные и «скрытые» возможности

1. **Go автоматически разыменовывает указатели** при вызове методов:

```go
p := Person{"Анна", 25}
(&p).Birthday() // работает
p.Birthday()    // тоже работает
```

* Не нужно вручную писать `*p` или `&p` при вызове методов — компилятор сам подставит.

2. **Методы могут возвращать значения**:

```go
func (p Person) Info() string {
    return fmt.Sprintf("%s, %d лет", p.Name, p.Age)
}

fmt.Println(p.Info()) // Анна, 25 лет
```

* Таким образом можно легко создавать **интерфейсы для структур**.

---

### Методы и интерфейсы

* Любой тип, у которого есть **методы с правильной сигнатурой**, может **реализовать интерфейс**.
* Методы — это **связь структуры и поведения**, а интерфейсы позволяют писать **гибкий и расширяемый код**.

---

### Итого

* Метод — это функция, связанная с типом (`receiver`).
* `(p Person)` — приёмник по значению, `(p *Person)` — приёмник-указатель.
* Методы позволяют:

  * выполнять действия с данными структуры,
  * изменять поля (если приёмник-указатель),
  * возвращать информацию.
* Методы — основа для работы с интерфейсами и объектно-ориентированного стиля в Go.