# Пакет `testing`

Тестирование — это **ключ к надёжному коду**. В Go встроен пакет **`testing`**, который позволяет писать юнит-тесты, проверять корректность функций и следить за стабильностью программы.

Go делает тестирование **простым и встроенным**: достаточно создать файл с суффиксом `_test.go`, и команды `go test` автоматически найдут и запустят все тесты.

---

### Создание простого теста

```go
// file: math_test.go
package main

import (
    "testing"
)

func Add(a, b int) int {
    return a + b
}

func TestAdd(t *testing.T) {
    result := Add(2, 3)
    expected := 5
    if result != expected {
        t.Errorf("Add(2, 3) = %d; хотели %d", result, expected)
    }
}
```

* Функции теста должны начинаться с `Test` и принимать параметр `*testing.T`.
* `t.Errorf` выводит сообщение об ошибке, но не останавливает выполнение теста.
* Тесты запускаются командой:

```bash
go test
```

* Go автоматически находит все файлы `_test.go` и функции `Test*`.

---

### Полезные методы `*testing.T`

* `t.Error(args...)` — регистрирует ошибку без остановки теста.
* `t.Errorf(format, args...)` — форматированный вариант.
* `t.Fatal(args...)` — регистрирует ошибку и **останавливает текущий тест**.
* `t.Fatalf(format, args...)` — форматированный вариант с остановкой.
* `t.Log(args...)` / `t.Logf` — вывод отладочной информации, виден при запуске с флагом `-v`.

---

### Запуск тестов с подробностями

```bash
go test -v
```

* Флаг `-v` (`verbose`) показывает **каждый тест и сообщения `t.Log`**.
* Можно запускать отдельные тесты с помощью:

```bash
go test -run TestAdd
```

---

### Итого

* Пакет `testing` позволяет писать **простые и читаемые юнит-тесты**.
* Тестовые функции всегда начинаются с `Test` и используют `*testing.T`.
* Go автоматически собирает и запускает все тесты из файлов `_test.go`.
* С помощью `t.Log`, `t.Error`, `t.Fatal` легко отлаживать и проверять результаты.